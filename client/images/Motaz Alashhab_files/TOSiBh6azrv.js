/*!CK:3954457137!*//*1456170404,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["z+lbr"]); }

__d("ExpirationType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,DELETE:1,HIDE:2,ONLY_ME:3};},null);
__d("PostExpirationNuxType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_NUX:"composer_nux",TIMELINE_NUX:"timeline_nux",SCHEDULE_DIALOG_NUX:"schedule_dialog_nux"};},null);
__d("TimelineInfoReviewParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",DISPLAY_NAME:"is_display_name",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",MLE_TYPES:"valid_mle_types",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"};},null);
__d('ProgressiveDatepickerMixin',['DateConsts','TimelineInfoReviewParam','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l={propTypes:{descendingYears:k.bool,initialDay:function(m,n,o){var p=m.initialYear,q=m.initialMonth,r=m.initialDay;if(!r)return;var s=q&&p&&r<=h.getDaysInMonth(p,q);if(!s)return new Error('A valid initialYear and initialMonth must be provided if '+'initialDay is set.');return k.number.call(this,m,n,o);},initialMonth:function(m,n,o){if(m.initialMonth&&!m.initialYear)return new Error('A valid initialYear must be provided if initialMonth is set.');return k.number.call(this,m,n,o);},initialYear:k.number,inputPrefix:k.string,maxTime:k.number.isRequired,minTime:k.number.isRequired,minTimeUnit:k.oneOf(['day','month','year']),onDateChange:k.func},getDefaultProps:function(){return {descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:'',minTimeUnit:'year'};},getInitialState:function(){return {day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear};},clearDate:function(){this.setState(this.getInitialState());},_getDayName:function(){return this.props.inputPrefix===''?i.DAY:this.props.inputPrefix+'_'+i.DAY;},_getMonthName:function(){return this.props.inputPrefix===''?i.MONTH:this.props.inputPrefix+'_'+i.MONTH;},_getYearName:function(){return this.props.inputPrefix===''?i.YEAR:this.props.inputPrefix+'_'+i.YEAR;},_getMinDate:function(){return new Date(this.props.minTime*h.MS_PER_SEC);},_getMinYear:function(){return this._getMinDate().getFullYear();},_getMinMonth:function(){return this._getMinDate().getMonth()+1;},_getMinDay:function(){return this._getMinDate().getDate();},_isMinYear:function(){return this.state.year===this._getMinYear();},_isMinYearAndMonth:function(){return this._isMinYear()&&this.state.month===this._getMinMonth();},_getMaxDate:function(){return new Date(this.props.maxTime*h.MS_PER_SEC);},_getMaxYear:function(){return this._getMaxDate().getFullYear();},_getMaxMonth:function(){return this._getMaxDate().getMonth()+1;},_getMaxDay:function(){return this._getMaxDate().getDate();},_isMaxYear:function(){return this.state.year===this._getMaxYear();},_isMaxYearAndMonth:function(){return this._isMaxYear()&&this.state.month===this._getMaxMonth();},_getCurrentDate:function(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime();},getCurrentDateInSeconds:function(){return this._getCurrentDate()/h.MS_PER_SEC;},getMaxPossibleDateInSeconds:function(){var m={year:this.state.year,month:this.state.month,day:this.state.day};if(!m.day)if(m.month){m.month+=1;}else if(m.year){m.year+=1;m.day=1;}var n=new Date(m.year,!m.month?0:m.month-1,m.day);return n.getTime()/h.MS_PER_SEC;},_onYearChange:function(event){var m=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(m,10),month:this.state.month,day:this.state.day});},_onMonthChange:function(event){var m=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(m,10),day:this.state.day});},_onDayChange:function(event){var m=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(m,10)});},_onDateChange:function(m){var n=this._getValidDate(m);this.setState(n,function(){this.props.onDateChange&&this.props.onDateChange(n);}.bind(this));},_getValidDate:function(m,n,o){if(typeof n==='undefined')n=new Date(this.props.minTime*h.MS_PER_SEC);if(typeof o==='undefined')o=new Date(this.props.maxTime*h.MS_PER_SEC);var p=m.year,q=m.month,r=m.day;if(p){if(p<=n.getFullYear()){p=n.getFullYear();if(q&&q<=n.getMonth()+1){q=n.getMonth()+1;if(r&&r<n.getDate())r=n.getDate();}}else if(p>=o.getFullYear()){p=o.getFullYear();if(q&&q>=o.getMonth()+1){q=o.getMonth()+1;if(r&&r>o.getDate())r=o.getDate();}}if(q){if(r&&r>h.getDaysInMonth(p,q))r=h.getDaysInMonth(p,q);}else r=0;}else q=r=0;return {year:p,month:q,day:r};},componentWillReceiveProps:function(m){var n=new Date(m.minTime*h.MS_PER_SEC),o=new Date(m.maxTime*h.MS_PER_SEC);this.setState(this._getValidDate(this.state,n,o));}};f.exports=l;},null);
__d('XUIProgressiveDatepicker.react',['DateConsts','DateStrings','ProgressiveDatepickerMixin','React','InlineBlock.react','XUISelector.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.Option,p=k.createClass({displayName:'TimelineProgressiveDatepicker',mixins:[j],render:function(){var q=[];for(var r=this._getMinYear();r<=this._getMaxYear();r++){var s=k.createElement(o,{key:r,title:r,value:r},r);this.props.descendingYears?q.unshift(s):q.push(s);}q.unshift(k.createElement(o,{key:0,title:i.getYearLabel(),value:0},i.getYearLabel()));var t=null;if(this.state.year||this.props.minTimeUnit!=='year'){var u=[k.createElement(o,{key:0,title:i.getMonthLabel(),value:0},i.getMonthLabel())],v=1,w=h.MONTHS_PER_YEAR;if(this._isMinYear())v=this._getMinMonth();if(this._isMaxYear())w=this._getMaxMonth();for(var x=v;x<=w;x++){var y=i.getMonthName(x);u.push(k.createElement(o,{key:x,title:y,value:x},y));}t=k.createElement(m,{className:"_5vu1",'data-testid':'ProgressiveDatepicker/monthSelector',disabled:!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},u);}var z=null;if(this.state.month||this.props.minTimeUnit==='day'){var aa=[k.createElement(o,{key:0,title:i.getDayLabel(),value:0},i.getDayLabel())],ba=1,ca=h.getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())ba=this._getMinDay();if(this._isMaxYearAndMonth())ca=this._getMaxDay();for(var da=ba;da<=ca;da++)aa.push(k.createElement(o,{key:da,title:da,value:da},da));z=k.createElement(m,{className:"_5vu1",'data-testid':'ProgressiveDatepicker/daySelector',disabled:!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},aa);}return (k.createElement(l,null,k.createElement(m,{'data-testid':'ProgressiveDatepicker/yearSelector',maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},q),t,z));}});f.exports=p;},null);
__d('PostBackdateDialog.react',['Arbiter','InputLabel.react','React','ReactLayeredComponentMixin','XUICheckboxInput.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIGrayText.react','XUIProgressiveDatepicker.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=j.PropTypes,w=250,x=j.createClass({displayName:'PostBackdateDialog',mixins:[k],propTypes:{minTime:v.number.isRequired,maxTime:v.number.isRequired,onSubmit:v.func.isRequired},getInitialState:function(){return {shown:false,hideFromNewsFeed:false,year:null,month:null,day:null};},render:function(){return (j.createElement('div',null));},renderLayers:function(){return (j.createElement(m,{width:343,shown:this.state.shown},j.createElement(p,null,u._("Backdate Post")),j.createElement(n,null,j.createElement('div',{className:"_5pk"},j.createElement(r,{shade:'light',size:'small',display:'block'},u._("Backdate your post so it appears in the past on your Page Timeline. Backdated posts publish immediately.")),j.createElement('div',{className:"_3-8x"},j.createElement(s,{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:w,minTime:this.props.minTime,minTimeUnit:'day',onDateChange:this._onDateChange})),j.createElement(i,{className:"_3-8x"},j.createElement(l,{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),j.createElement('label',null,j.createElement(r,{shade:'light',size:'small',weight:'normal'},u._("Hide from News Feed")))))),j.createElement(o,null,j.createElement(q,{action:'cancel',label:'Cancel',onClick:this._onCancelClick}),j.createElement(q,{action:'confirm',disabled:!this.state.year||!this.state.month||!this.state.day,label:u._("Backdate"),onClick:this._onSubmitClick,use:'confirm'}))));},show:function(){this.setState({shown:true});},_onCancelClick:function(){h.inform('PAB/defaultToPost');},_onSubmitClick:function(){this.props.onSubmit(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.setState({shown:false});},_onDateChange:function(y){this.setState({year:y.year,month:y.month,day:y.day});},_hideFromNewsFeedChanged:function(event){this.setState({hideFromNewsFeed:event.target.checked});}});f.exports=x;},null);
__d('PostScheduleAndPostEndDialog.react',['DatePickerRestraints','ExpirationType','React','ReactDOM','ReactLayeredComponentMixin','XUIAmbientNUX.react','XUICardSection.react','XUICheckboxInput.react','XUIDateTimePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIGrayText.react','XUINotice.react','XUICard.react','XUIText.react','InputLabel.react','FBToggleSwitch.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea=j.PropTypes,fa=60*1000,ga=60*fa,ha=24*60*60*1000,ia=30,ja=6*ia*ha,ka=11,la=450,ma=325,na=j.createClass({displayName:'PostScheduleAndPostEndDialog',mixins:[l],propTypes:{initialPublishDate:ea.instanceOf(Date),initialPostEndDate:ea.instanceOf(Date),isReschedule:ea.bool,timezoneStr:ea.string.isRequired,onSubmit:ea.func.isRequired,defaultScheduledTimeDelta:ea.number,showPostEndDate:ea.bool,showExpire:ea.bool,showExpireNux:ea.bool,onNuxAcked:ea.func,submitLabel:ea.string},getDefaultProps:function(){return {defaultScheduledTimeDelta:ka*fa};},getInitialState:function(){return {shown:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),postEndDate:this.props.initialPostEndDate?this.props.initialPostEndDate:new Date(Date.now()+ga),scheduleToggle:true,postEndToggle:false,expireDate:new Date(Date.now()+ga),expireToggle:false,expirationType:i.HIDE,showNux:false};},show:function(){var oa=this.getInitialState();oa.showNux=this.props.showExpireNux;oa.shown=true;this.setState(oa);},_onNuxClose:function(){this.setState({showNux:false});this.props.onNuxAcked&&this.props.onNuxAcked();},renderLayers:function(){var oa=this.props.isReschedule?da._("Reschedule Post"):da._("Schedule Post"),pa=this.props.submitLabel?this.props.submitLabel:this.state.scheduleToggle?this.props.isReschedule?da._("Reschedule"):da._("Schedule"):da._("Publish"),qa=j.createElement(ba,{ref:'postEndToggle',checked:this.state.postEndToggle,onToggle:function(){return this.setState({postEndToggle:!this.state.postEndToggle});}.bind(this)}),ra=this._renderInvalidTimeNotice(),sa=null;if(this.state.showNux&&this.refs.expirationToggle)sa=j.createElement(m,{context:k.findDOMNode(this.refs.expirationToggle),onCloseButtonClick:this._onNuxClose,position:'left',shown:true},da._("You can now choose when your post will unpublish."));return (j.createElement('div',null,j.createElement(q,{shown:this.state.shown,width:la,fixedTopPosition:ma},j.createElement(t,null,oa),j.createElement(r,{className:"_hg8"},j.createElement('div',{className:"mvm"},j.createElement(z,{size:'large',weight:'bold'},da._("Publishing Schedule"))),j.createElement(aa,null,j.createElement(ba,{checked:this.state.scheduleToggle,onToggle:function(){return this.setState({scheduleToggle:!this.state.scheduleToggle});}.bind(this)}),j.createElement('label',null,da._("Publication"))),this._renderSchedule(),this._renderExpireSection(),j.createElement('div',{className:"mvm"},j.createElement(z,{size:'large',weight:'bold'},da._("Distribution Schedule"))),j.createElement(aa,null,qa,j.createElement('label',null,da._("Stop News Feed Distribution"))),this._renderPostEndDate(),ra),j.createElement(s,null,j.createElement(v,null),j.createElement(u,{action:'confirm',label:pa,onClick:this._onSubmitClick,disabled:ra!==null,use:'confirm'}))),sa));},_isPublishTimeValid:function(){if(!this.state.scheduleToggle)return true;var oa=this.state.publishDate.getTime(),pa=Date.now()+10*fa,qa=Date.now()+ja;return oa>pa&&oa<qa;},_isPostEndOrExpireTimeValid:function(oa){var pa=this.state.publishDate.getTime(),qa=Date.now()+10*fa,ra=Date.now()+ja;if(this.state.scheduleToggle)qa=pa+10*fa;return (oa>=qa&&oa<=ra);},_renderSchedule:function(){if(!this.state.scheduleToggle)return null;return (j.createElement('div',null,j.createElement(w,{shade:'light',size:'small',display:'block'},da._("Select a date and time in the future for when you want your post to publish.")),j.createElement(y,{background:'light-wash',className:"_2ph- _3-8n"},j.createElement(p,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-ha)),h.enforceDateIsNoLaterThan(new Date(Date.now()+ja))],className:"_3-8x",date:this.state.publishDate,onChange:function(oa){return this.setState({publishDate:oa});}.bind(this),timezone:this.props.timezoneStr}))));},_renderExpireSection:function(){if(!this.props.showExpire)return null;var oa=j.createElement(ba,{ref:'expirationToggle',checked:this.state.expireToggle,onToggle:function(){return this.setState({expireToggle:!this.state.expireToggle,showNux:false});}.bind(this)});return (j.createElement('div',null,j.createElement(aa,null,oa,j.createElement('label',null,da._("Expiration"))),this._renderExpire()));},_renderExpire:function(){if(!this.state.expireToggle)return null;return (j.createElement('div',null,j.createElement(w,{shade:'light',size:'small',display:'block'},da._("When a post expires, it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights.")),j.createElement(y,{background:'light-wash',className:"_3-8n"},j.createElement(n,{className:"_2ph-"+(' '+"_3-8x")},j.createElement(p,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-ha)),h.enforceDateIsNoLaterThan(new Date(Date.now()+ja))],date:this.state.expireDate,onChange:function(oa){return this.setState({expireDate:oa});}.bind(this),timezone:this.props.timezoneStr})),j.createElement(n,{className:"_2ph-"+(' '+"_3-8x")},j.createElement(aa,{className:"_3-8x"},j.createElement(o,{checked:this.state.expirationType===i.DELETE,onChange:this._handleExpirationTypeChanged}),j.createElement('label',null,j.createElement(w,{shade:'light',size:'small',weight:'normal'},da._("Delete the post. Permanently remove the post and its insights at the scheduled time."))))))));},_renderPostEndDate:function(){if(!this.state.postEndToggle)return null;return (j.createElement('div',null,j.createElement(w,{shade:'light',size:'small',display:'block'},da._("Select a date and time in the future for when you want your post to stop showing in News Feed. The post will still be visible, but News Feed distribution will end.")),j.createElement(y,{background:'light-wash',className:"_2ph- _3-8n"},j.createElement(p,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-ha)),h.enforceDateIsNoLaterThan(new Date(Date.now()+ja))],date:this.state.postEndDate,onChange:function(oa){return this.setState({postEndDate:oa});}.bind(this),timezone:this.props.timezoneStr}))));},_renderInvalidTimeNotice:function(){var oa=this._isPublishTimeValid(),pa=!this.state.postEndToggle||this._isPostEndOrExpireTimeValid(this.state.postEndDate.getTime()),qa=!this.state.expireToggle||this._isPostEndOrExpireTimeValid(this.state.expireDate.getTime()),ra=oa&&pa&&qa;if(ra)return null;var sa=null;if(!oa){sa=da._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");}else if(!pa&&this.state.scheduleToggle){sa=da._("News Feed distribution can only end between 10 minutes from when they are published and 6 months from now.");}else if(!pa){sa=da._("News Feed distribution can only end between 10 minutes and 6 months from when you create them.");}else if(!qa&&this.state.scheduleToggle){sa=da._("Posts need to be expired between 10 minutes from when they are published and 6 months from now.");}else if(!qa)sa=da._("Posts need to be expired between 10 minutes and 6 months from when you create them.");return (j.createElement(x,{use:'warn',className:"_3-8x"},sa));},render:function(){return (j.createElement('div',null));},_handleExpirationTypeChanged:function(event){var oa=event.target.checked?i.DELETE:i.HIDE;this.setState({expirationType:oa});},_onSubmitClick:function(){var oa=null,pa=null,qa=null,ra=null;if(this.state.scheduleToggle)oa=this.state.publishDate;if(this.state.postEndToggle)pa=this.state.postEndDate;if(this.state.expireToggle){qa=this.state.expireDate;ra=this.state.expirationType;}this.props.onSubmit(oa,pa,qa,ra);this.setState({shown:false});}});f.exports=na;},null);
__d('PostActionsHiddenInputsUpdater',['$','AdsAPITargetFields','DOM','DOMQuery'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='feed_targeted_data',m='targeted_privacy_data',n={clearHiddenInputsParams:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0];this._clearParams(o);},_getInput:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0],p=arguments[1],q=j.scry(o,p);if(q.length){return q[0];}else return {};},updateScheduleHiddenInputs:function(o,p){var q=arguments.length<=2||arguments[2]===undefined?h('pabhiddeninputs'):arguments[2],r=this._getInput(q,'input[name="future_date"]'),s=this._getInput(q,'input[name="future_time"]'),t=this._getInput(q,'input[name="scheduled"]');r.value=o;s.value=p;t.value=o?true:'';},updatePostEndDateHiddenInputs:function(o,p){var q=arguments.length<=2||arguments[2]===undefined?h('pabhiddeninputs'):arguments[2];this._appendInput(q,l+'[relevant-until-date]',o);this._appendInput(q,l+'[relevant-until-time]',p);},updateExpireHiddenInputs:function(o,p){var q=arguments.length<=2||arguments[2]===undefined?h('pabhiddeninputs'):arguments[2],r=this._getInput(q,'input[name="expire_time"]'),s=this._getInput(q,'input[name="expiring"]'),t=this._getInput(q,'input[name="expire_type"]');r.value=o;s.value=o?true:'';t.value=p;},updateBackdateHiddenInputs:function(o,p,q,r){var s=arguments.length<=4||arguments[4]===undefined?h('pabhiddeninputs'):arguments[4];this._clearParams(s);var t=this._getInput(s,'input[name="backdated_date[year]"]'),u=this._getInput(s,'input[name="backdated_date[month]"]'),v=this._getInput(s,'input[name="backdated_date[day]"]'),w=this._getInput(s,'input[name="hide_from_newsfeed"]');t.value=o;u.value=p;v.value=q;w.value=r;},updateTargetHiddenInputs:function(o){var p=arguments.length<=1||arguments[1]===undefined?h('pabhiddeninputs'):arguments[1];this._deleteTargetInputs(p);if(o.hints)this._setInputValue(p,o.hints,l);if(o.targeting)this._setInputValue(p,o.targeting,l);if(o.gating)this._setInputValue(p,o.gating,m);},_clearParams:function(o){for(var p=0;p<o.children.length;p++)o.children[p].value='';},_deleteTargetInputs:function(o){var p=k.scry(o,'input');for(var q=0;q<p.length;q++){var r=(p[q].name.indexOf(l)==0||p[q].name.indexOf(m)==0)&&p[q].name!==l+'[relevant-until-time]'&&p[q].name!==l+'[relevant-until-date]';if(r)j.remove(p[q]);}},_setBackdateParams:function(o){var p=o.getRoot(),q=this._getInput(p,'input[name="year"]').value,r=this._getInput(p,'input[name="hide"]'),s=j.scry(p,'input[name="month"]'),t=j.scry(p,'input[name="day"]');s=s.length&&s[0].value!==null&&s[0].value!=='0'?s[0].value:null;t=t.length&&t[0].value!==null&&t[0].value!=='0'?t[0].value:null;var u=h('pabhiddeninputs');this._clearParams(u);var v=this._getInput(u,'input[name="backdated_date[year]"]'),w=this._getInput(u,'input[name="backdated_date[month]"]'),x=this._getInput(u,'input[name="backdated_date[day]"]'),y=this._getInput(u,'input[name="hide_from_newsfeed"]');v.value=q;w.value=s;x.value=t;y.value=r.checked;},_setInputValue:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0],p=arguments[1],q=arguments[2];for(var r in p){var s=p[r],t=q+'['+r+']';if(r===i.AGE_MAX||r===i.AGE_MIN||r===i.GENDERS){var u=r===i.GENDERS?s[0]:s;this._appendInput(o,t,u);}else if(r===i.GEO_LOCATIONS||r===i.EXCLUDED_GEO_LOCATIONS){this._appendInput(o,t,JSON.stringify(s));}else if(r===i.INTERESTS||r==='fan_of'){t=q+'['+r+'][]';this._appendArrayValueId(o,s,t);}else{t=q+'['+r+'][]';this._appendArrayValue(o,s,t);}}},_appendArrayValueId:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0],p=arguments[1],q=arguments[2];p.forEach(function(r){this._appendInput(o,q,r.id);},this);},_appendArrayValue:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0],p=arguments[1],q=arguments[2];p.forEach(function(r){this._appendInput(o,q,r);},this);},_appendInput:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0],p=arguments[1],q=arguments[2];j.appendContent(o,j.create('input',{type:'hidden',name:p,value:q}));}};f.exports=n;},null);
__d("XPostExpirationNuxController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/page\/expiring_post\/nux\/",{});},null);
__d('ComposerXPostActionDropDownV2',['Arbiter','AsyncRequest','Button','ReactComposerTaggerType','CSS','DOM','Event','PagesEventObserver','PostActionsHiddenInputsUpdater','PostBackdateDialog.react','PostExpirationNuxType','PostScheduleAndPostEndDialog.react','PromotedPostConstants','React','ReactDOM','ReactTargetingTaggerStore.react','XPostExpirationNuxController','csx','cx','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();function ba(ca,da,ea,fa,ga,ha){'use strict';this.menuInstance=ca;this.postButton=da;this.postActionsButton=ea;this.pageID=fa.page_id;this.defaultAction=fa.default_action;this.scheduleDialogPlaceholder=ga;this.backdateDialogPlaceholder=ha;this.timezone_str=fa.timezone_str;this.minBackdateTime=fa.min_backdate_time;this.showExpire=fa.should_show_expire;this.defaultScheduleTimeDelta=fa.default_schedule_time_delta;this.showExpireNux=fa.should_show_expire_nux;this.hiddenInputs=fa.hidden_inputs;this.composerID=fa.composerID;this.menuInstance.subscribe('itemclick',function(ia,ja){switch(ja.item.getValue()){case 'ads_post':this.$ComposerXPostActionDropDownV21();break;case 'draft':this.$ComposerXPostActionDropDownV22();break;case 'schedule':this.$ComposerXPostActionDropDownV23();break;case 'backdate':this.$ComposerXPostActionDropDownV24();break;case 'post':this.$ComposerXPostActionDropDownV25();break;}}.bind(this));n.listen(this.postActionsButton,'click',function(){this.$ComposerXPostActionDropDownV26('pab_dropdown_click');}.bind(this));if(fa.handle_post_click)n.listen(this.postButton,'click',function(){var ia=w.getTaggerData(this.pageID,k.TARGETING);p.updateTargetHiddenInputs(ia,this.hiddenInputs);w.clearComposerData(this.pageID);h.inform('composer/publish',{composer_id:this.composerID});}.bind(this));this.scheduleAnother=h.subscribe('composer/schedule_another',function(ia){this.$ComposerXPostActionDropDownV23();this.scheduleAnother.unsubscribe();this.scheduleAnother=null;}.bind(this));if(fa.should_show_nux){h.inform('composer/reset_pab_nux');this.$ComposerXPostActionDropDownV27();this.renderNuxSubscription=h.subscribe('composer/render_pab_nux',function(ia){if(!fa.nux_uri)return;new i().setURI(fa.nux_uri).send();this.renderNuxSubscription.unsubscribe();this.renderNuxSubscription=null;}.bind(this));}h.subscribe('AsyncRequest/error',function(ia,ja){if(ja.request&&ja.request.relativeTo===this.postButton.form)this.$ComposerXPostActionDropDownV28(true);}.bind(this));h.subscribe(['composer/reset'],function(ia){if(this.hiddenInputsInstance)this.hiddenInputsInstance.afterSubmitPost(this.pageID);this.$ComposerXPostActionDropDownV28(true);}.bind(this));}ba.prototype.initHiddenInputs=function(ca){'use strict';this.hiddenInputsInstance=ca;if(this.defaultAction==='save')this.hiddenInputsInstance.setDraftInputs();};ba.prototype.$ComposerXPostActionDropDownV27=function(){'use strict';var ca=m.scry(document,'#pab_nux_moved_indicator')[0],da=m.scry(document,'#pab_nux_click_to_finish')[0];if(ca)ca.removeAttribute('id');if(da)da.removeAttribute('id');this.postActionsButton.setAttribute('id','pab_nux_moved_indicator');this.postButton.setAttribute('id','pab_nux_click_to_finish');};ba.prototype.$ComposerXPostActionDropDownV28=function(ca){'use strict';if(this.hiddenInputsInstance)this.hiddenInputsInstance.resetInputs();this.$ComposerXPostActionDropDownV29();};ba.prototype.$ComposerXPostActionDropDownV25=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_post_selected');this.postButton.click();this.menuInstance.done();};ba.prototype.$ComposerXPostActionDropDownV210=function(ca){'use strict';var da=null,ea=null;if(ca){da=aa(ca,'m/d/Y',{skipPatternLocalization:true});ea=60*(ca.getHours()*60+ca.getMinutes());}p.clearHiddenInputsParams(this.hiddenInputs);p.updateScheduleHiddenInputs(da,ea,this.hiddenInputs);};ba.prototype.$ComposerXPostActionDropDownV211=function(ca,da,ea,fa){'use strict';this.$ComposerXPostActionDropDownV210(ca);var ga=null,ha=null;if(da){ga=aa(da,'m/d/Y',{skipPatternLocalization:true});ha=60*(da.getHours()*60+da.getMinutes());}p.updatePostEndDateHiddenInputs(ga,ha,this.hiddenInputs);var ia=null;if(ea)ia=ea.getTime()/1000;p.updateExpireHiddenInputs(ia,fa,this.hiddenInputs);this.postButton.click();};ba.prototype.$ComposerXPostActionDropDownV212=function(){'use strict';this.showExpireNux=false;var ca=x.getURIBuilder().getURI();new i().setURI(ca).setMethod('POST').setData({nux:r.SCHEDULE_DIALOG_NUX,impression:true}).send();};ba.prototype.$ComposerXPostActionDropDownV213=function(){'use strict';this.showExpireNux=false;var ca=x.getURIBuilder().getURI();new i().setURI(ca).setMethod('POST').setData({nux:r.SCHEDULE_DIALOG_NUX,impression:true}).send();};ba.prototype.$ComposerXPostActionDropDownV23=function(){'use strict';this.$ComposerXPostActionDropDownV26('pab_schedule_selected');var ca=u.createElement(s,{timezoneStr:this.timezone_str,onSubmit:this.$ComposerXPostActionDropDownV211.bind(this),defaultScheduledTimeDelta:this.defaultScheduleTimeDelta,showExpire:this.showExpire,showExpireNux:this.showExpireNux,onNuxAcked:this.$ComposerXPostActionDropDownV213.bind(this)});if(this.showExpireNux)this.$ComposerXPostActionDropDownV212();ca=v.render(ca,this.scheduleDialogPlaceholder);ca.show();this.menuInstance.done();};ba.prototype.$ComposerXPostActionDropDownV21=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_ads_post_selected');this.$ComposerXPostActionDropDownV214();this.hiddenInputsInstance.setAdspostInputs();this.menuInstance.done();this.postButton.click();};ba.prototype.$ComposerXPostActionDropDownV22=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_draft_selected');this.$ComposerXPostActionDropDownV214();this.hiddenInputsInstance.setDraftInputs();this.menuInstance.done();this.postButton.click();};ba.prototype.$ComposerXPostActionDropDownV24=function(){'use strict';this.$ComposerXPostActionDropDownV26('pab_backdate_selected');var ca=u.createElement(q,{maxTime:Date.now()/1000,minTime:this.minBackdateTime,onSubmit:this.$ComposerXPostActionDropDownV215.bind(this)});ca=v.render(ca,this.backdateDialogPlaceholder);ca.show();this.menuInstance.done();};ba.prototype.$ComposerXPostActionDropDownV215=function(ca,da,ea,fa){'use strict';p.updateBackdateHiddenInputs(ca,da,ea,fa,this.hiddenInputs);this.postButton.click(ca,da,ea,fa);};ba.prototype.$ComposerXPostActionDropDownV26=function(ca){'use strict';var da={page_id:this.pageID,event_name:ca};o.logData_DEPRECATED(da,o.VITAL_WAIT);};ba.prototype.$ComposerXPostActionDropDownV216=function(){'use strict';var ca=this.$ComposerXPostActionDropDownV217();if(ca)return ca;var da=m.scry(document,'div.fbBoostedPost')[0];if(!da)return null;return this.$ComposerXPostActionDropDownV218(da);};ba.prototype.$ComposerXPostActionDropDownV218=function(ca){'use strict';return m.scry(ca,"button._4dyi")[0];};ba.prototype.$ComposerXPostActionDropDownV217=function(){'use strict';var ca=this.postActionsButton,da="_1dsp";do{if(l.hasClass(ca,da))return this.$ComposerXPostActionDropDownV218(ca);ca=ca.parentNode;}while(ca);};ba.prototype.$ComposerXPostActionDropDownV29=function(){'use strict';var ca=this.$ComposerXPostActionDropDownV216();if(!ca)return;j.setEnabled(ca,true);l.removeClass(ca,"_ho3");};ba.prototype.$ComposerXPostActionDropDownV214=function(){'use strict';var ca=this.$ComposerXPostActionDropDownV216();if(!ca)return;j.setEnabled(ca,false);l.addClass(ca,"_ho3");h.inform(t.CLEAR_COMPOSER_BOOST);};f.exports=ba;},null);
__d('PostActionsHiddenInputs',['ActorURI','AsyncRequest','XUnpublishedPostSuccessController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n,o,p,q,r,s,t,u,v,w){'use strict';this.dateInput=l;this.timeInput=m;this.schedulingInput=n;this.draftInput=o;this.backdateYearInput=p;this.backdateMonthInput=q;this.backdateDayInput=r;this.hideFromNewsFeedInput=s;this.expireTimeInput=t;this.expiringInput=u;this.expireTypeInput=v;this.adsPostInput=w;}k.prototype.updateInputs=function(l){'use strict';switch(l.element){case 'dateinput':this.dateInput.value=l.value;this.schedulingInput.value=true;break;case 'timeinput':this.timeInput.value=l.value;this.schedulingInput.value=true;break;case 'backdater':this.setBackdateInputs(l);break;case 'hidefromnewsfeed':this.setHideFromNewsfeed(l);break;default:break;}};k.prototype.setScheduleInputs=function(l){'use strict';if(this.schedulingInput){this.schedulingInput.value=true;this.dateInput.value=l.date;this.timeInput.value=l.time;}};k.prototype.setDraftInputs=function(){'use strict';if(this.draftInput)this.draftInput.value=true;};k.prototype.setBackdateInputs=function(l){'use strict';if(this.backdateYearInput){this.backdateYearInput.value=l.value.year||null;this.backdateMonthInput.value=l.value.month||null;this.backdateDayInput.value=l.value.day||null;}};k.prototype.setHideFromNewsfeed=function(l){'use strict';this.hideFromNewsFeedInput.value=l.value;};k.prototype.setAdspostInputs=function(){'use strict';if(this.adsPostInput)this.adsPostInput.value=true;};k.prototype.resetInputs=function(){'use strict';if(this.schedulingInput){this.dateInput.value='';this.timeInput.value='';this.schedulingInput.value='';}if(this.expiringInput){this.expiringInput.value='';this.expireTimeInput.value='';this.expireTypeInput.value='';}if(this.backdateYearInput){this.backdateYearInput.value=null;this.backdateMonthInput.value=null;this.backdateDayInput.value=null;this.hideFromNewsFeedInput.value='';}if(this.draftInput)this.draftInput.value='';if(this.adsPostInput)this.adsPostInput.value='';};k.prototype.afterSubmitPost=function(l){'use strict';var m;if(this.schedulingInput&&this.schedulingInput.value){m='scheduled';}else if(this.expiringInput&&this.expiringInput.value){m='expiring';}else if(this.draftInput&&this.draftInput.value)m='draft';if(!m)return;var n=j.getURIBuilder().setString('type',m).getURI();n=h.create(n,l);new i().setURI(n).send();};f.exports=k;},null);
__d('ReactPrivacyTaggerButton.react',['Arbiter','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerPagesPrivacySelector.react','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','ReactTargetingTaggerStore.react','StoreBasedStateMixinHelper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=n.createClass({displayName:'ReactPrivacyTaggerButton',mixins:[m,j],propTypes:{contextConfig:i.isRequired,lockToPrivacy:q.string,isVideoDialog:q.bool},getInitialState:function(){return {};},componentWillMount:function(){this._mixin=new p([o]);this._mixin.subscribeCallback(function(){this.setState(this.constructor.calculateState(this.props));}.bind(this));h.subscribe(['composer/publish','composer/close'],function(){this.setState({gatingSentences:undefined});}.bind(this));},componentWillUnmount:function(){this._mixin.release();},statics:{calculateState:function(s){var t=o.getTaggerData(s.contextConfig.targetID,l.TARGETING)||{};return {gatingSentences:t&&t.gatingSentences};}},render:function(){return (n.createElement(k,{gatingSentences:this.state.gatingSentences,useReactPrivacyDialogForLegacy:true,isVideoDialog:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));}});f.exports=r;},null);