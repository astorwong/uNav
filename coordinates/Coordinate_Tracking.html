<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <Title> RCH 3rd Floor </Title>
  <link rel="stylesheet" type="text/css" href="../dependencies/main.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="../dependencies/jquery.tabletoCSV.js" type="text/javascript" charset="utf-8"></script>
  <script src="../dependencies/jquery.csv.js"></script>
  <script src="../dependencies/pos.js" type="text/javascript"></script>
</head>

<body>
  <div id="container">
    <img src="../Waterloo Floor Plans/RCH_01FLR.png" id="myImgId"
    style="position: absolute; left: 0px; top:0px; z-index: 2;">
    <canvas id="myCanvas" width="1174" height="840"></canvas>
    <script>
    function drawLine(p1, p2) {
      var canvas = document.getElementById('myCanvas');
      var context = canvas.getContext('2d');
      context.lineWidth ="5";
      context.strokeStyle="red";
      var jqxhr = $.getJSON( "https://raw.githubusercontent.com/eginwong/uNav/master/coordinates/room_nodes.json?token=AGViNZ3CC3Nvi23CMC0jFfbxcO1M5naDks5WrlLlwA%3D%3D", function(data) {
        // var jqxhr = $.getJSON( "https://raw.githubusercontent.com/eginwong/uNav/master/geojson_ex.json?token=AGViNf2Dc0xvxTq2dPBIKQBqovSHPlInks5Wq6zMwA%3D%3D", function(data) {
        console.log(data);
        // console.log(data.features[0].properties);
      });
      // $.each(arrayCoord, function(i, coord) {
      //   if (i == 0) {
      //     context.moveTo(coord.x,coord.y);//120_stair
      //   }
      //   else{
      //     context.lineTo(coord.x,coord.y);//119a_hallway
      //   }
      // });
      // context.stroke();
    }
    </script>
  </div>

  <div style="background-color:#E8E8E8">
    <!--Hit this button to export current coordinates to CSV.-->
    <div id="inputs" class="clearfix">
      <button id="export" data-export="export">Export</button>
      <button id="import">Import</button>
      <button id="draw" onclick="drawLine('RCH 122H7', 'RCH 122H6')">Draw Line</button>
      <input type="file" id="files" name="files[]" multiple />
      <!-- For building selection from UWAPI. -->
      <select id="sel">
      </select>
    </div>
    <output id="list">
    </output>
    <br>
    <p hidden="">X:<span id="x" name="x_cor"></span></p>
    <p hidden="">Y:<span id="y" name="y_cor"></span></p>
    <table border id="coordinatesTable">
    </table>
  </div>
</body>
</html>
